---
title: 【 JS 】加载与执行
date: 2017-02-07 15:04:55
tags: JavaScript
---

# 延迟脚本
script 标签里定义了 defer 属性，这个属性的用途是**脚本被延迟到整个页面都解析完后再运行**。立即下载，但延迟执行。
`<script type='text/javascript' src='example.js' defer='defer'></script>`
注意：1. 在现实中，延迟脚本不一定会按照顺序执行，因此最后只包含一个延迟脚本。
2. defer 属性只适用于外部脚本文件。
3. 有些浏览器不支持defer属性，因此把延迟脚本放在页面底部仍然是最佳选择。

# 异步脚本
script 标签里定义了 async 属性，这个属性的用途是**不让页面等待脚本的下载和执行，异步加载页面的其他内容**。
`<script type="text/javascript" src="example.js" async></script>`

注意：1. 因为是异步加载的脚本，因此多个异步加载的脚本不会按顺序执行，不要再加载期间修改 DOM。
2. 只适用于外部脚本文件；
3. 异步脚本一定会在页面的load事件前执行。支持异步脚本的浏览器有 Firefox 3.6、Safari 5 和 Chrome。

# 问题
### js延迟加载的方式有哪些？

> defer和async、动态创建DOM方式（用得最多）、按需异步载入js

### 异步加载JS的方式有哪些？

(1) defer，只支持IE

(2) async：

(3) 创建script，插入到DOM中，加载完毕后callBack


### 同步和异步的区别?

同步的概念应该是来自于OS中关于同步的概念:不同进程为协同完成某项工作而在先后次序上调整(通过阻塞,唤醒等方式).同步强调的是顺序性.谁先谁后.异步则不存在这种顺序性.

同步：浏览器访问服务器请求，用户看得到页面刷新，重新发请求,等请求完，页面刷新，新内容出现，用户看到新内容,进行下一步操作。

异步：浏览器访问服务器请求，用户正常操作，浏览器后端进行请求。等请求完，页面不刷新，新内容也会出现，用户看到新内容。



















